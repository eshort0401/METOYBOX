<link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css" />
<link rel="stylesheet" href="/METOYBOX/_static/assets/css/base.css" />
<link rel="stylesheet" href="/METOYBOX/_static/assets/css/controls.css" />
<script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>

<div id="slope_breeze">
    <div id="loading-screen">
        <div class="spinner"></div>
        <p>Loading...</p>
        <p><small>This can take a few minutes!</small></p>
    </div>
    <div id="main-content">
        <div id="figure-output">
            <!-- Use two layers to prevent flickering in firefox -->
            <div id="slope_breeze-figure-output-A" class="figure-layer is-active"></div>
            <div id="slope_breeze-figure-output-B" class="figure-layer is-passive"></div>
        </div>
        <div id="controls"></div>
        <script src="/METOYBOX/_static/assets/js/model-controls.js"></script>
        <script>
            const configs = coreWaveConfigs();
            // Add a displacement toggle checkbox row above the sliders
            const displacement_config = overlayToggleConfig();
            configs.unshift(displacement_config);
            
            // Add an imshow selection control row above the sliders
            const imshow_sel_config = imshowSelectionConfig();
            configs.unshift(imshow_sel_config);
            const MStep = 3 * stepRatio
            const MDimMax = 1e-2
            const MDimStep = MDimMax * stepRatio
            let args = ["\\(M:\\)", "M-slider", 0, 3, 0.2, MStep, "non-dimensional"];
            configs.push(sliderConfig(...args));
            args = ["\\(M:\\)", "M_dim-slider", 0, MDimMax, Omega * 1e2, MDimStep]
            args.push("dimensional", "m m⁻¹");
            configs.push(sliderConfig(...args));
            createModelControls(configs, "controls");
        </script>
        <py-script src="/METOYBOX/_static/slope_breeze.py" config="/METOYBOX/_static/assets/pyscript.toml"></py-script>
    </div>
</div>